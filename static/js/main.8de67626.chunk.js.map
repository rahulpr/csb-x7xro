{"version":3,"sources":["config/index.js","helpers/ajax.js","helpers/apiRequests.js","Expenses/DeleteIcon.js","Expenses/VisibilityIcon.js","Expenses/EditIcon.js","Expenses/ExpenseList.js","Expenses/index.js","Expenses/NewExpense.js","App.js","index.js"],"names":["CURRENCY","getData","a","url","data","Object","keys","length","jsonToUri","fetch","method","response","json","postData","key","formData","FormData","append","body","ok","deleteData","jsonData","paramArr","val","push","join","API_PATH","getExpensesFromServer","addExpenseToServer","deleteExpenseFromServer","DeleteIcon","id","setExpenses","deleteItem","useCallback","window","confirm","status","prev","filter","v","onClick","color","size","VisibilityIcon","isPrivate","EditIcon","item","setFormValues","editItem","ExpenseList","expenses","total","myExpense","sharedExpense","className","scope","map","i","parseFloat","amount","private","name","created_at","colSpan","Expenses","openForm","useState","refreshing","setRefreshing","getItems","res","useEffect","type","role","NewExpense","closeForm","setNewExpenseAddedAt","formValues","setData","setField","e","p","target","value","setCheckBox","addExpense","user_id","Date","getTime","alert","onChange","checked","htmlFor","Main","showForm","setShowForm","newExpenseAddedAt","App","rootElement","document","getElementById","ReactDOM","render"],"mappings":"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","file":"static/js/main.8de67626.chunk.js","sourcesContent":["export const CURRENCY = \"AED\";\r\nexport const ICON_SIZE = 16;\r\n","export async function getData(url = \"\", data = {}) {\r\n  if (Object.keys(data).length > 0) {\r\n    url += \"?\" + jsonToUri(data);\r\n  }\r\n\r\n  const response = await fetch(url, {\r\n    method: \"GET\"\r\n  });\r\n\r\n  return response.json();\r\n}\r\n\r\nexport async function postData(url = \"\", data = {}) {\r\n  let formData = new FormData();\r\n  for (let key in data) {\r\n    formData.append(key, data[key]);\r\n  }\r\n\r\n  const response = await fetch(url, {\r\n    method: \"POST\",\r\n    body: formData\r\n  });\r\n\r\n  if (response && response.ok) {\r\n    return await response.json();\r\n  } else {\r\n    return response;\r\n  }\r\n}\r\n\r\nexport async function deleteData(url = \"\", data = {}) {\r\n  let formData = new FormData();\r\n  formData.append(\"delete\", 1);\r\n  for (let key in data) {\r\n    formData.append(key, data[key]);\r\n  }\r\n\r\n  const response = await fetch(url, {\r\n    method: \"POST\",\r\n    body: formData\r\n  });\r\n\r\n  return response.json();\r\n}\r\n\r\nfunction jsonToUri(jsonData) {\r\n  let paramArr = [];\r\n  for (let key in jsonData) {\r\n    if (typeof jsonData[key] === \"object\") {\r\n      for (let val of jsonData[key]) {\r\n        paramArr.push(`${key}[]=${val}`);\r\n      }\r\n    } else {\r\n      paramArr.push(`${key}=${jsonData[key]}`);\r\n    }\r\n  }\r\n  return paramArr.join(\"&\");\r\n}\r\n","import { deleteData, getData, postData } from \"./ajax\";\n\nconst API_PATH = \"https://rahulpr.me/expense-manager/index.php/api/\";\n\nexport async function getExpensesFromServer(data) {\n  return await getData(API_PATH + \"expenses\", data);\n}\n\nexport async function addExpenseToServer(data) {\n  return await postData(API_PATH + \"expense\", data);\n}\n\nexport async function deleteExpenseFromServer(data) {\n  return await deleteData(API_PATH + \"expense\", data);\n}\n","import { useCallback } from \"react\";\nimport { FiTrash2 } from \"react-icons/fi\";\nimport { ICON_SIZE } from \"../config\";\nimport { deleteExpenseFromServer } from \"../helpers/apiRequests\";\n\nconst DeleteIcon = ({ id, setExpenses }) => {\n  const deleteItem = useCallback(\n    (id) => async () => {\n      if (window.confirm(\"Are you sure to delete?\")) {\n        // call delete api\n        const res = await deleteExpenseFromServer({ id });\n        if (res.status) {\n          setExpenses((prev) => prev.filter((v) => v.id !== id));\n        }\n      }\n    },\n    [setExpenses]\n  );\n\n  return <FiTrash2 onClick={deleteItem(id)} color=\"red\" size={ICON_SIZE} />;\n};\n\nexport default DeleteIcon;\n","import { FiEye, FiEyeOff } from \"react-icons/fi\";\nimport { ICON_SIZE } from \"../config\";\n\nconst VisibilityIcon = ({ isPrivate, id }) => {\n  return isPrivate === \"1\" ? (\n    <FiEyeOff color=\"grey\" size={ICON_SIZE} />\n  ) : (\n    <FiEye color=\"green\" size={ICON_SIZE} />\n  );\n};\n\nexport default VisibilityIcon;\n","import { useCallback } from \"react\";\nimport { FiEdit2 } from \"react-icons/fi\";\nimport { ICON_SIZE } from \"../config\";\n\nconst EditIcon = ({ item, setFormValues }) => {\n  const editItem = useCallback(() => {\n    setFormValues(item);\n  }, [item, setFormValues]);\n\n  return <FiEdit2 onClick={editItem} color=\"blue\" size={ICON_SIZE} />;\n};\n\nexport default EditIcon;\n","import \"../styles.css\";\nimport DeleteIcon from \"./DeleteIcon\";\nimport VisibilityIcon from \"./VisibilityIcon\";\nimport EditIcon from \"./EditIcon\";\nimport { CURRENCY } from \"../config\";\n\nconst ExpenseList = ({ expenses, setExpenses, setFormValues }) => {\n  let total = 0;\n  let myExpense = 0;\n  let sharedExpense = 0;\n\n  return (\n    <div className=\"container\">\n      <table className=\"table  align-middle\">\n        <thead>\n          <tr>\n            <th scope=\"col\">#</th>\n            <th scope=\"col\">Expense Type</th>\n            <th scope=\"col\" className=\"text-end\">\n              Amount\n            </th>\n            <th scope=\"col\"></th>\n            <th scope=\"col\"></th>\n          </tr>\n        </thead>\n        <tbody>\n          {expenses.map((item, i) => {\n            total += parseFloat(item.amount);\n            if (item.private === \"1\") {\n              myExpense += parseFloat(item.amount);\n            } else {\n              sharedExpense += parseFloat(item.amount);\n            }\n\n            return (\n              <tr key={i}>\n                <td>\n                  <VisibilityIcon id={item.id} isPrivate={item.private} />\n                </td>\n                <td>\n                  {item.name}\n                  <br />\n                  <span className=\"badge bg-info text-dark\">\n                    {item.created_at}\n                  </span>\n                </td>\n                <td className=\"text-end\">\n                  {CURRENCY} {item.amount}\n                </td>\n                <td className=\"text-end\">\n                  <EditIcon item={item} setFormValues={setFormValues} />\n                </td>\n                <td>\n                  <DeleteIcon id={item.id} setExpenses={setExpenses} />\n                </td>\n              </tr>\n            );\n          })}\n        </tbody>\n        <tfoot className=\"text-end\">\n          <tr className=\"table-warning\">\n            <th scope=\"col\" colSpan={1}></th>\n            <th scope=\"col\">Shared</th>\n            <th scope=\"col\">\n              {CURRENCY} {sharedExpense}\n            </th>\n            <th scope=\"col\"></th>\n            <th scope=\"col\"></th>\n          </tr>\n          <tr className=\"table-warning\">\n            <th scope=\"col\" colSpan={1}></th>\n            <th scope=\"col\">Mine</th>\n            <th scope=\"col\">\n              {CURRENCY} {myExpense}\n            </th>\n            <th scope=\"col\"></th>\n            <th scope=\"col\"></th>\n          </tr>\n          <tr className=\"table-warning\">\n            <th scope=\"col\" colSpan={1}></th>\n            <th scope=\"col\">Total</th>\n            <th scope=\"col\">\n              {CURRENCY} {total}\n            </th>\n            <th scope=\"col\"></th>\n            <th scope=\"col\"></th>\n          </tr>\n        </tfoot>\n      </table>\n    </div>\n  );\n};\n\nexport default ExpenseList;\n","import \"../styles.css\";\r\nimport { useCallback, useEffect, useState } from \"react\";\r\nimport ExpenseList from \"./ExpenseList\";\r\nimport { getExpensesFromServer } from \"../helpers/apiRequests\";\r\n\r\nconst Expenses = ({ openForm, setFormValues }) => {\r\n  const [refreshing, setRefreshing] = useState(true);\r\n  const [expenses, setExpenses] = useState([]);\r\n\r\n  const getItems = useCallback(async () => {\r\n    // get data from server\r\n    setRefreshing(true);\r\n    const res = await getExpensesFromServer();\r\n    if (res.status) {\r\n      setExpenses(res.expenses);\r\n    }\r\n    setRefreshing(false);\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    getItems();\r\n  }, [getItems]);\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      {/* header */}\r\n      <div className=\"row my-3\">\r\n        <div className=\"col\">\r\n          <button\r\n            type=\"button\"\r\n            className=\"btn btn-success btn-sm\"\r\n            onClick={openForm}\r\n          >\r\n            Add\r\n          </button>\r\n        </div>\r\n        <div className=\"col d-flex align-items-center\">\r\n          <h5 className=\"text-center \">Expenses</h5>\r\n        </div>\r\n        <div className=\"col d-flex justify-content-end align-items-center\">\r\n          <button\r\n            type=\"button\"\r\n            className=\"btn btn-warning btn-sm\"\r\n            onClick={getItems}\r\n          >\r\n            Refresh\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"row\">\r\n        {/* loader */}\r\n        {refreshing && (\r\n          <div className=\"col d-flex justify-content-center\">\r\n            <div className=\"spinner-border text-primary \" role=\"status\">\r\n              <span className=\"visually-hidden\">Loading...</span>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {/* empty component */}\r\n        {!refreshing && expenses.length === 0 && <div>No Items to Display</div>}\r\n\r\n        {/* list */}\r\n        {!refreshing && (\r\n          <ExpenseList\r\n            expenses={expenses}\r\n            setFormValues={setFormValues}\r\n            setExpenses={setExpenses}\r\n          />\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Expenses;\r\n","import { useCallback, useEffect, useState } from \"react\";\r\nimport { CURRENCY } from \"../config\";\r\nimport { addExpenseToServer } from \"../helpers/apiRequests\";\r\n\r\nconst NewExpense = ({ closeForm, setNewExpenseAddedAt, formValues }) => {\r\n  // const isEdit = formValues !== null;\r\n  const [data, setData] = useState({\r\n    name: \"\",\r\n    amount: \"\",\r\n    private: \"1\"\r\n  });\r\n\r\n  useEffect(() => {\r\n    if (formValues !== null) {\r\n      setData(formValues);\r\n    }\r\n  }, [formValues]);\r\n\r\n  const setField = useCallback((e) => {\r\n    setData((p) => ({\r\n      ...p,\r\n      [e.target.name]: e.target.value\r\n    }));\r\n  }, []);\r\n\r\n  const setCheckBox = useCallback((e) => {\r\n    setData((p) => ({\r\n      ...p,\r\n      private: p.private === \"0\" ? \"1\" : \"0\"\r\n    }));\r\n  }, []);\r\n\r\n  const addExpense = useCallback(async () => {\r\n    // post data to server\r\n    if (data.name && data.amount) {\r\n      data.user_id = 1;\r\n      const res = await addExpenseToServer(data);\r\n      if (res.status) {\r\n        setNewExpenseAddedAt(new Date().getTime());\r\n        closeForm();\r\n      }\r\n    } else {\r\n      window.alert(\"Fields missing\");\r\n    }\r\n  }, [setNewExpenseAddedAt, closeForm, data]);\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      {/* header */}\r\n      <div className=\"row my-3\">\r\n        <div className=\"col\"></div>\r\n        <div className=\"col-6\">\r\n          <h5 className=\"text-center \">Add New</h5>\r\n        </div>\r\n        <div className=\"col d-flex justify-content-end align-items-center\">\r\n          <button\r\n            type=\"button\"\r\n            className=\"btn btn-warning btn-sm\"\r\n            onClick={closeForm}\r\n          >\r\n            Close\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      {/* form */}\r\n      <form className=\"row g-3\">\r\n        <div className=\"col-md-12\">\r\n          <div className=\"form-check form-switch\">\r\n            <input\r\n              className=\"form-check-input\"\r\n              type=\"checkbox\"\r\n              id=\"flexSwitchCheckDefault\"\r\n              onChange={setCheckBox}\r\n              name=\"private\"\r\n              checked={data.private === \"1\"}\r\n            />\r\n            <label\r\n              className=\"form-check-label\"\r\n              htmlFor=\"flexSwitchCheckDefault\"\r\n            >\r\n              Private Expense\r\n            </label>\r\n          </div>\r\n        </div>\r\n        <div className=\"col-md-12\">\r\n          <label htmlFor=\"inputEmail4\" className=\"form-label\">\r\n            Expense Name\r\n          </label>\r\n          <input\r\n            className=\"form-control\"\r\n            id=\"inputEmail4\"\r\n            onChange={setField}\r\n            name=\"name\"\r\n            value={data.name}\r\n          />\r\n        </div>\r\n        <div className=\"col-md-12\">\r\n          <label htmlFor=\"inputPassword4\" className=\"form-label\">\r\n            Amount\r\n          </label>\r\n\r\n          <div className=\"input-group mb-3\">\r\n            <span className=\"input-group-text\" id=\"inputGroup-sizing-default\">\r\n              {CURRENCY}\r\n            </span>\r\n            <input\r\n              type=\"number\"\r\n              className=\"form-control\"\r\n              aria-label=\"Sizing example input\"\r\n              aria-describedby=\"inputGroup-sizing-default\"\r\n              onChange={setField}\r\n              name=\"amount\"\r\n              value={data.amount}\r\n            />\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"col-12\">\r\n          <button\r\n            type=\"submit\"\r\n            className=\"btn btn-primary\"\r\n            onClick={addExpense}\r\n          >\r\n            {formValues !== null ? \"Update\" : \"Add\"}\r\n          </button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default NewExpense;\r\n","import \"./styles.css\";\nimport { useCallback, useState } from \"react\";\n\nimport Expenses from \"./Expenses\";\nimport NewExpense from \"./Expenses/NewExpense\";\n\nconst Main = () => {\n  const [showForm, setShowForm] = useState(false);\n  const [newExpenseAddedAt, setNewExpenseAddedAt] = useState(null);\n  const [formValues, setFormValues] = useState(null);\n\n  const openForm = useCallback(() => {\n    setShowForm(true);\n  }, []);\n\n  const closeForm = useCallback(() => {\n    setFormValues(null);\n    setShowForm(false);\n  }, []);\n\n  return (\n    <>\n      {(showForm || formValues !== null) && (\n        <NewExpense\n          closeForm={closeForm}\n          setNewExpenseAddedAt={setNewExpenseAddedAt}\n          formValues={formValues}\n        />\n      )}\n\n      <div className={showForm || formValues !== null ? \"invisible\" : \"\"}>\n        <Expenses\n          openForm={openForm}\n          setFormValues={setFormValues}\n          key={newExpenseAddedAt}\n        />\n      </div>\n    </>\n  );\n};\n\nexport default function App() {\n  return <Main />;\n}\n","import { StrictMode } from \"react\";\nimport ReactDOM from \"react-dom\";\n\nimport App from \"./App\";\n\nconst rootElement = document.getElementById(\"root\");\nReactDOM.render(\n  <StrictMode>\n    <App />\n  </StrictMode>,\n  rootElement\n);\n"],"sourceRoot":""}