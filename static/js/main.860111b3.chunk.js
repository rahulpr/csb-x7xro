(this["webpackJsonpexpense-manager"]=this["webpackJsonpexpense-manager"]||[]).push([[0],{14:function(e,t,c){"use strict";c.r(t);var s=c(1),n=c(8),l=c.n(n),a=c(2),i=(c(7),c(3)),r=c(0),o=function(e){var t=e.id,c=e.setExpenses,n=Object(s.useCallback)((function(e){return function(){window.confirm("Are you sure to delete?")&&c((function(t){return t.filter((function(t){return t.id!==e}))}))}}),[c]);return Object(r.jsx)(i.d,{onClick:n(t),color:"red",size:14})},j=function(e){var t=e.isPrivate;e.id;return t?Object(r.jsx)(i.c,{color:"grey",size:14}):Object(r.jsx)(i.b,{color:"green",size:14})},b=function(e){var t=e.item,c=e.setFormValues,n=Object(s.useCallback)((function(){c(t)}),[t,c]);return Object(r.jsx)(i.a,{onClick:n,color:"blue",size:14})};var d=function(e){var t=e.expenses,c=e.setFormValues,s=0,n=0,l=0;return Object(r.jsx)("div",{className:"container",children:Object(r.jsxs)("table",{className:"table table-sm",children:[Object(r.jsx)("thead",{children:Object(r.jsxs)("tr",{children:[Object(r.jsx)("th",{scope:"col",children:"Date"}),Object(r.jsx)("th",{scope:"col",children:"Title"}),Object(r.jsx)("th",{scope:"col",children:"Amount"}),Object(r.jsx)("th",{scope:"col"})]})}),Object(r.jsx)("tbody",{children:t.map((function(e,t){return s+=parseFloat(e.amount),e.private?n+=parseFloat(e.amount):l+=parseFloat(e.amount),Object(r.jsxs)("tr",{children:[Object(r.jsx)("td",{children:(a=e.timestamp,new Date(a).toLocaleString())}),Object(r.jsx)("td",{children:e.name}),Object(r.jsx)("td",{children:e.amount}),Object(r.jsxs)("td",{children:[Object(r.jsx)(j,{id:e.id,isPrivate:e.private}),"\xa0\xa0\xa0\xa0",Object(r.jsx)(b,{item:e,setFormValues:c}),"\xa0\xa0\xa0\xa0",Object(r.jsx)(o,{id:e.id})]})]},t);var a}))}),Object(r.jsxs)("tfoot",{children:[Object(r.jsxs)("tr",{children:[Object(r.jsx)("th",{scope:"col",colSpan:1}),Object(r.jsx)("th",{scope:"col",children:"Shared Expense"}),Object(r.jsx)("th",{scope:"col",children:l}),Object(r.jsx)("th",{scope:"col"})]}),Object(r.jsxs)("tr",{children:[Object(r.jsx)("th",{scope:"col",colSpan:1}),Object(r.jsx)("th",{scope:"col",children:"My Expense"}),Object(r.jsx)("th",{scope:"col",children:n}),Object(r.jsx)("th",{scope:"col"})]}),Object(r.jsxs)("tr",{children:[Object(r.jsx)("th",{scope:"col",colSpan:1}),Object(r.jsx)("th",{scope:"col",children:"Total"}),Object(r.jsx)("th",{scope:"col",children:s}),Object(r.jsx)("th",{scope:"col"})]})]})]})})},u=[{id:1,name:"Al Maya",amount:"55.7",currency:"AED",timestamp:1633440836004,private:!0,img:null},{id:2,name:"Lulu Hypermarket",amount:"123.45",currency:"AED",timestamp:1633440853638,private:!1,img:null}],m=function(e){var t=e.openForm,c=e.setFormValues,n=Object(s.useState)(!0),l=Object(a.a)(n,2),i=l[0],o=l[1],j=Object(s.useState)([]),b=Object(a.a)(j,2),m=b[0],O=b[1],x=Object(s.useCallback)((function(){console.log("Calling API"),o(!0),setTimeout((function(){O(u),o(!1)}),1e3)}),[]);return Object(s.useEffect)((function(){x()}),[x]),Object(r.jsxs)("div",{className:"container",children:[Object(r.jsxs)("div",{className:"row my-3",children:[Object(r.jsx)("div",{className:"col",children:Object(r.jsx)("button",{type:"button",className:"btn btn-success btn-sm",onClick:t,children:"Add"})}),Object(r.jsx)("div",{className:"col d-flex align-items-center",children:Object(r.jsx)("h5",{className:"text-center ",children:"Expenses"})}),Object(r.jsx)("div",{className:"col d-flex justify-content-end align-items-center",children:Object(r.jsx)("button",{type:"button",className:"btn btn-warning btn-sm",onClick:x,children:"Refresh"})})]}),Object(r.jsxs)("div",{className:"row",children:[i&&Object(r.jsx)("div",{className:"col d-flex justify-content-center",children:Object(r.jsx)("div",{className:"spinner-border text-primary ",role:"status",children:Object(r.jsx)("span",{className:"visually-hidden",children:"Loading..."})})}),!i&&0===m.length&&Object(r.jsx)("div",{children:"No Items to Display"}),!i&&Object(r.jsx)(d,{expenses:m,setFormValues:c})]})]})},O=c(5),x=c(4),h=function(e){var t=e.closeForm,c=e.setNewExpenseAddedAt,n=e.formValues,l=Object(s.useState)({name:"",amount:"",private:!0}),i=Object(a.a)(l,2),o=i[0],j=i[1];Object(s.useEffect)((function(){null!==n&&j(n)}),[n]);var b=Object(s.useCallback)((function(e){j((function(t){return Object(x.a)(Object(x.a)({},t),{},Object(O.a)({},e.target.name,e.target.value))}))}),[]),d=Object(s.useCallback)((function(e){j((function(e){return Object(x.a)(Object(x.a)({},e),{},{private:!0!==e.private})}))}),[]),u=Object(s.useCallback)((function(){console.log(o),o.name&&o.amount?(c((new Date).getTime()),t()):window.alert("Fields missing")}),[c,t,o]);return Object(r.jsxs)("div",{className:"container",children:[Object(r.jsxs)("div",{className:"row my-3",children:[Object(r.jsx)("div",{className:"col"}),Object(r.jsx)("div",{className:"col-6",children:Object(r.jsx)("h5",{className:"text-center ",children:"Add New"})}),Object(r.jsx)("div",{className:"col d-flex justify-content-end align-items-center",children:Object(r.jsx)("button",{type:"button",className:"btn btn-warning btn-sm",onClick:t,children:"Close"})})]}),Object(r.jsxs)("form",{className:"row g-3",children:[Object(r.jsx)("div",{className:"col-md-12",children:Object(r.jsxs)("div",{className:"form-check form-switch",children:[Object(r.jsx)("input",{className:"form-check-input",type:"checkbox",id:"flexSwitchCheckDefault",onChange:d,name:"private",checked:!1===o.private}),Object(r.jsx)("label",{className:"form-check-label",htmlFor:"flexSwitchCheckDefault",children:"Shared Expense"})]})}),Object(r.jsxs)("div",{className:"col-md-12",children:[Object(r.jsx)("label",{htmlFor:"inputEmail4",className:"form-label",children:"Expense Name"}),Object(r.jsx)("input",{className:"form-control form-control-sm",id:"inputEmail4",onChange:b,name:"name",value:o.name})]}),Object(r.jsxs)("div",{className:"col-md-12",children:[Object(r.jsx)("label",{htmlFor:"inputPassword4",className:"form-label",children:"Amount"}),Object(r.jsxs)("div",{className:"input-group input-group-sm  mb-3",children:[Object(r.jsx)("span",{className:"input-group-text",id:"inputGroup-sizing-default",children:"AED"}),Object(r.jsx)("input",{type:"text",className:"form-control","aria-label":"Sizing example input","aria-describedby":"inputGroup-sizing-default",onChange:b,name:"amount",value:o.amount})]})]}),Object(r.jsx)("div",{className:"col-12",children:Object(r.jsx)("button",{type:"submit",className:"btn btn-primary",onClick:u,children:null!==n?"Update":"Add"})})]})]})},p=function(){var e=Object(s.useState)(!1),t=Object(a.a)(e,2),c=t[0],n=t[1],l=Object(s.useState)(null),i=Object(a.a)(l,2),o=i[0],j=i[1],b=Object(s.useState)(null),d=Object(a.a)(b,2),u=d[0],O=d[1],x=Object(s.useCallback)((function(){n(!0)}),[]),p=Object(s.useCallback)((function(){O(null),n(!1)}),[]);return Object(r.jsxs)(r.Fragment,{children:[(c||null!==u)&&Object(r.jsx)(h,{closeForm:p,setNewExpenseAddedAt:j,formValues:u}),Object(r.jsx)("div",{className:c||null!==u?"invisible":"",children:Object(r.jsx)(m,{openForm:x,setFormValues:O},o)})]})};function f(){return Object(r.jsx)(p,{})}var v=document.getElementById("root");l.a.render(Object(r.jsx)(s.StrictMode,{children:Object(r.jsx)(f,{})}),v)},7:function(e,t,c){}},[[14,1,2]]]);
//# sourceMappingURL=main.860111b3.chunk.js.map